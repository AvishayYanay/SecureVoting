{% extends 'base.html' %}

{% block title %}Register{% endblock %}

{% block head %}
<script>
  function register() {
    const email = document.getElementById("tb_email").value;
    const name = document.getElementById("tb_name").value;

    communicate("register", { email: email, name: name }, (event) => {
      alert('An email has been sent, check your spam as well');
      location.href = 'login';
    }, (event) => alert('Registration Failed'));
  }
</script>
{% endblock %}

{% block content %}
<form>
  <label for="tb_email">Enter your email:</label><br />
  <input type="email" id="tb_email" size="20" required /><br />
  <label for="tb_name">Enter your name:</label><br />
  <input type="text" id="tb_name" size="20" required /><br />
  <input type="button" value="Register" onclick="register()">
  <input type="reset">
</form>
<div>
  <a href="login">Login</a>
</div>
{% endblock %}
